version: 2

models:
  - name: fct_est_producto
    description: "Tabla de hecho que relaciona el producto con usuarios, direcciones y cantidades"
    columns:
      - name: order_id
        description: "ID interno de los pedidos"
        test: 
          - not_null
      - name: user_id
        description: "ID interno del usuario" 
        tests:
          - not_null

      - name: ciudad
        description: "Ciudad del usuario que realiza un pedido"
        tests:
          - not_null
      - name: estado
        description: "Estado al que pertenece el usuario"
        tests:
          - not_null
      - name: Product_id
        description: "id interno del producto"
        tests:
          - not_null
      - name: cantidad
        description: "Cantidad de un producto en un pedido"
        tests:
          - not_null
      - name: coste_pedido_usd
        description: "Suma del coste de los productos de un pedido"
        tests:
          - not_null
      - name: Fecha_pedido_utc
        description: "Fecha en la que se actualiz칩 y/o almacen칩 el pedido"
        tests:
          - not_null
##############################################
  - name: fct_estadisticas_usuario
    description: "Tabla de hecho que reune informaci칩n numerica asociada a cada usuario"

    columns:
      - name: user_id
        description: "ID interno del usuario"
        tests:
          - not_null
      - name: checkout_amount
        description: "cantidad de veces que un usuario ha pasado por caja para pagar un pedido"
        tests:
          - not_null
      - name: package_shipped_amount
        description: "cantidad de paquetes que ha recibido el usuario"
        tests:
          - not_null
      - name: add_to_cart_amount
        description: "cantidad de veces que un usuario ha a침adido un producto a su cesta"
        tests:
          - not_null
      - name: page_view_amount
        description: "cantidad de paginas que ha visitado el usuario en la web"
        tests:
          - not_null
      - name: total_pedido_usd
        description: "coste total de los productos pedidos por cada usuario"

      - name: total_envio_usd
        description: "coste total de envios de los pedidos de cada usuario"
        tests:
          - not_null
      - name: total_descuento_usd
        description: "descuento total que ha recibido un usuario en promociones"
        tests:
          - not_null
      - name: total_coste_usd
        description: "total del coste de los pedidos que ha realizado un usuario"
        tests:
          - not_null
          
##################################################